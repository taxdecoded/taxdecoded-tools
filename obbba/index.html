<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>What OBBBA Deductions Do I Qualify For? | TaxDecoded</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700&family=Playfair+Display:ital,wght@0,600;0,700;0,800;1,400;1,600&display=swap" rel="stylesheet">
<style>
:root{--navy:#1a2744;--gold:#c5a55a;--gold-dark:#a88c3e;--gold-light:#d4bb7a;--gold-pale:#f5ecd4;--gold-bg:#fdf8ee;--cream:#f9f5ec;--white:#fff;--text:#1a2744;--text-sec:#5a6272;--text-lt:#8a9099;--green:#2d855e;--green-pale:#e8f5ee;--green-dk:#1f6b47;--red:#b5372a;--red-pale:#fce8e6;--amber:#b8860b;--amber-pale:#fef6e0;--bdr:#e4ddd0;--bdr-lt:#eee8db;--sh-sm:0 1px 3px rgba(26,39,68,.05);--sh-md:0 4px 20px rgba(26,39,68,.08);--sh-lg:0 8px 40px rgba(26,39,68,.10);--r:10px;--rl:14px}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'DM Sans',sans-serif;background:var(--cream);color:var(--text);min-height:100vh;-webkit-font-smoothing:antialiased}
body::before{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(26,39,68,.008) 2px,rgba(26,39,68,.008) 4px);pointer-events:none;z-index:0}
.ctr{max-width:660px;margin:0 auto;padding:20px 16px 40px;position:relative;z-index:1}
.hdr{text-align:center;padding:28px 0 20px}
.brand{font-family:'Playfair Display',serif;font-size:22px;font-weight:700;margin-bottom:16px}.brand span:first-child{color:var(--navy)}.brand span:last-child{color:var(--gold)}
.brand-line{width:32px;height:3px;background:var(--gold);margin:0 auto 18px;border-radius:2px}
.hdr-badge{display:inline-block;background:var(--navy);color:var(--gold-light);font-size:11px;font-weight:600;letter-spacing:.12em;text-transform:uppercase;padding:6px 16px;border-radius:20px;margin-bottom:18px}
.hdr h1{font-family:'Playfair Display',serif;font-size:32px;font-weight:800;color:var(--navy);line-height:1.15;margin-bottom:4px}
.hdr h1 em{color:var(--gold-dark);font-style:normal}
.hdr p{color:var(--text-sec);font-size:14px;line-height:1.6;max-width:480px;margin:8px auto 0}
.pw{margin-bottom:24px}.pw .pl{font-size:12px;color:var(--text-lt);margin-bottom:8px;font-weight:500}
.pb{display:flex;gap:5px}.ps{flex:1;height:4px;border-radius:2px;background:var(--bdr);transition:background .4s}.ps.a{background:var(--gold)}.ps.d{background:var(--navy)}
.card{background:var(--white);border-radius:var(--rl);box-shadow:var(--sh-md);border:1px solid var(--bdr-lt);padding:32px 28px;margin-bottom:16px;animation:fu .3s ease}
@keyframes fu{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.ch{background:var(--navy);margin:-32px -28px 24px;padding:16px 28px;border-radius:var(--rl) var(--rl) 0 0}
.ch .ct{font-family:'Playfair Display',serif;font-size:18px;font-weight:700;color:var(--white)}.ch .cs{color:rgba(255,255,255,.6);font-size:12px;margin-top:2px}
.ci{color:var(--text-sec);font-size:13px;line-height:1.6;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid var(--bdr-lt)}.ci strong{color:var(--text)}
.f{margin-bottom:18px}.f:last-child{margin-bottom:0}
.f>label{display:block;font-size:13px;font-weight:600;color:var(--text);margin-bottom:5px}
.f .ht{font-size:11.5px;color:var(--text-lt);font-weight:400;margin-top:3px;line-height:1.5}
.di{position:relative}.di::before{content:'$';position:absolute;left:12px;top:50%;transform:translateY(-50%);font-size:14px;color:var(--text-lt);font-weight:500;pointer-events:none}
.di input{width:100%;padding:11px 12px 11px 26px;border:2px solid var(--gold-pale);background:var(--gold-bg);border-radius:8px;font-family:'DM Sans',sans-serif;font-size:14px;transition:all .2s;outline:none;color:var(--text)}
.di input:focus{border-color:var(--gold);background:#fffcf2;box-shadow:0 0 0 3px rgba(197,165,90,.12)}
.di input::placeholder{color:var(--text-lt)}
.ni input{width:100%;padding:11px 12px;border:2px solid var(--gold-pale);background:var(--gold-bg);border-radius:8px;font-family:'DM Sans',sans-serif;font-size:14px;transition:all .2s;outline:none;color:var(--text)}
.ni input:focus{border-color:var(--gold);background:#fffcf2;box-shadow:0 0 0 3px rgba(197,165,90,.12)}
.ni input::placeholder{color:var(--text-lt)}
.rg{display:grid;grid-template-columns:1fr 1fr;gap:8px}.ro{position:relative}.ro input{position:absolute;opacity:0;pointer-events:none}
.ro label{display:flex;align-items:center;justify-content:center;padding:11px 8px;border:2px solid var(--bdr);border-radius:8px;font-size:13px;font-weight:500;cursor:pointer;transition:all .2s;text-align:center;line-height:1.3;background:var(--white)}
.ro input:checked+label{border-color:var(--navy);background:var(--navy);color:var(--gold-light)}.ro label:hover{border-color:var(--gold)}
.tr{display:flex;align-items:center;justify-content:space-between;padding:10px 0}.tr span{font-size:13px;font-weight:500}
.tg{position:relative;width:42px;height:23px;flex-shrink:0}.tg input{opacity:0;width:0;height:0}
.ts{position:absolute;inset:0;background:var(--bdr);border-radius:12px;cursor:pointer;transition:.25s}
.ts::before{content:'';position:absolute;width:17px;height:17px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.25s;box-shadow:0 1px 3px rgba(0,0,0,.12)}
.tg input:checked+.ts{background:var(--navy)}.tg input:checked+.ts::before{transform:translateX(19px)}
.it{display:inline-flex;align-items:center;justify-content:center;width:15px;height:15px;border-radius:50%;background:var(--gold-pale);color:var(--gold-dark);font-size:9px;font-weight:700;cursor:help;position:relative;vertical-align:middle;margin-left:3px;border:1px solid var(--gold-light)}
.it .tt{display:none;position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%);background:var(--navy);color:#fff;font-size:11.5px;font-weight:400;padding:10px 14px;border-radius:8px;width:250px;line-height:1.55;z-index:10;box-shadow:var(--sh-lg)}
.it:hover .tt,.it:focus .tt{display:block}
.br{display:flex;gap:10px;margin-top:24px}
.btn{flex:1;padding:13px 18px;border:none;border-radius:8px;font-family:'DM Sans',sans-serif;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}
.bp{background:var(--gold);color:var(--navy)}.bp:hover{background:var(--gold-dark);color:#fff}
.bk{background:var(--cream);color:var(--text-sec);border:1.5px solid var(--bdr)}.bk:hover{border-color:var(--gold)}
/* Conditional fields */
.cond{display:none;margin-top:8px;padding:12px 16px;background:var(--gold-bg);border:1px solid var(--gold-pale);border-radius:8px}
.cond.show{display:block}
/* Results */
.res-summary{text-align:center;padding:36px 24px;border-radius:var(--rl);margin-bottom:24px;background:linear-gradient(145deg,var(--gold-bg),#f5ebd0);border:2px solid var(--gold-light);position:relative;overflow:hidden}
.res-summary::before{content:'';position:absolute;top:-40px;right:-40px;width:120px;height:120px;border-radius:50%;opacity:.08;background:var(--navy)}
.res-summary>*{position:relative;z-index:1}
.res-summary h2{font-family:'Playfair Display',serif;font-size:26px;font-weight:800;color:var(--navy);margin-bottom:6px}
.res-summary .big-num{font-family:'Playfair Display',serif;font-size:42px;font-weight:700;color:var(--green-dk);line-height:1.1}
.res-summary .sub{font-size:13px;color:var(--text-sec);margin-top:6px}
.res-summary .sv-ln{width:48px;height:2px;background:var(--gold);margin:14px auto 0;border-radius:1px}
/* Deduction cards */
.ded-card{background:var(--white);border-radius:var(--rl);box-shadow:var(--sh-sm);border:1px solid var(--bdr-lt);padding:20px;margin-bottom:14px;display:flex;gap:16px;align-items:flex-start}
.ded-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;font-weight:700}
.ded-icon.yes{background:var(--green-pale);color:var(--green-dk)}
.ded-icon.no{background:var(--red-pale);color:var(--red)}
.ded-icon.partial{background:var(--amber-pale);color:var(--amber)}
.ded-body{flex:1}
.ded-body h3{font-size:14px;font-weight:700;color:var(--navy);margin-bottom:3px}
.ded-body .ded-status{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.06em;margin-bottom:6px}
.ded-body .ded-status.yes{color:var(--green-dk)}
.ded-body .ded-status.no{color:var(--red)}
.ded-body .ded-status.partial{color:var(--amber)}
.ded-body .ded-amount{font-family:'Playfair Display',serif;font-size:20px;font-weight:700;color:var(--navy);margin-bottom:4px}
.ded-body .ded-detail{font-size:12px;color:var(--text-sec);line-height:1.5}
.ded-body .ded-next{font-size:12px;color:var(--navy);font-weight:600;margin-top:8px;padding:8px 12px;background:var(--gold-bg);border-radius:6px;border:1px solid var(--gold-pale);line-height:1.5}
.section-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.1em;color:var(--text-lt);margin:24px 0 10px;padding-left:4px}
/* Summary table */
.sum-table{background:var(--white);border-radius:var(--rl);box-shadow:var(--sh-sm);overflow:hidden;margin-bottom:20px;border:1px solid var(--bdr-lt)}
.sum-table .sthead{background:var(--navy);color:var(--gold-light);padding:12px 20px;font-size:13px;font-weight:600}
.sum-table .strow{display:flex;justify-content:space-between;align-items:center;padding:11px 20px;border-bottom:1px solid var(--bdr-lt);font-size:13px}
.sum-table .strow:last-child{border-bottom:none}
.sum-table .strow .stl{color:var(--text-sec)}.sum-table .strow .stv{font-weight:600;font-variant-numeric:tabular-nums}
.sum-table .strow.tot{background:var(--gold-bg);font-weight:700;font-size:14px}.sum-table .strow.tot .stl{color:var(--navy)}.sum-table .strow.tot .stv{color:var(--green-dk)}
.nb{border-radius:var(--r);padding:14px 18px;font-size:12.5px;line-height:1.6;margin-bottom:20px}
.nb.grn{background:#edf8f2;border:1px solid #b5dfca;color:#1a5c3a}.nb.grn strong{color:#0f3d24}
.nb.am{background:#fef6e3;border:1px solid #e2d08a;color:#6e5a1a}.nb.am strong{color:#53440e}
.dc{text-align:center;font-size:10.5px;color:var(--text-lt);line-height:1.7;padding:20px 16px;border-top:1px solid var(--bdr-lt);margin-top:28px}
.ra{display:flex;gap:10px;margin-top:8px}
.pb2{text-align:center;margin-top:16px;font-size:11px;color:var(--text-lt)}.pb2 span{color:var(--gold-dark);font-weight:600}
.step{display:none}.step.active{display:block}
/* Print */
@media print{
  .step{display:none!important}.step.active{display:block!important}
  *{-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important;color-adjust:exact!important}
  body{background:#fff!important;font-size:11pt}body::before{display:none}
  .ctr{max-width:100%;padding:0}.hdr,.pw,.ra,.btn,.dc,.pb2{display:none!important}
  .ph{display:flex!important;flex-direction:column;align-items:center;padding:40px 0 24px;border-bottom:2px solid var(--navy)}
  .ph .phb{font-family:'Playfair Display',serif;font-size:28px;font-weight:700}.ph .phb span:first-child{color:var(--navy)}.ph .phb span:last-child{color:var(--gold)}
  .ph .phr{width:40px;height:3px;background:var(--gold);margin:12px 0;border-radius:2px}
  .ph .pht{font-family:'Playfair Display',serif;font-size:16px;font-weight:600;color:var(--navy);letter-spacing:.04em;text-transform:uppercase}
  .ph .phs{font-size:10pt;color:var(--text-sec);margin-top:4px}
  .pf{display:flex!important;flex-direction:column;align-items:center;padding:32px 0 16px;border-top:1px solid var(--bdr);margin-top:32px}
  .pf .pfb{font-family:'Playfair Display',serif;font-size:14px;font-weight:700}.pf .pfb span:first-child{color:var(--navy)}.pf .pfb span:last-child{color:var(--gold)}
  .pf .pfl{font-size:9pt;color:var(--text-lt);line-height:1.6;text-align:center}.pf .pfr{width:32px;height:2px;background:var(--gold);margin:8px 0}
  .ded-card{break-inside:avoid;box-shadow:none!important;border:1px solid var(--bdr)!important}
  .sum-table,.res-summary{break-inside:avoid;box-shadow:none!important}
  .res-summary::before{display:none}
  @page{margin:.6in .75in;size:letter}
}
.ph,.pf{display:none}
@media(max-width:480px){.ctr{padding:12px 12px 32px}.card{padding:24px 20px}.ch{margin:-24px -20px 20px;padding:14px 20px}.hdr h1{font-size:26px}.rg{grid-template-columns:1fr}.res-summary .big-num{font-size:32px}.ded-card{flex-direction:column;gap:10px}}



/* Error messages */
.err-msg{background:#fdecea;border:1.5px solid #e8ada7;color:#b5372a;font-size:13px;font-weight:500;padding:10px 14px;border-radius:8px;margin-top:12px;display:none;text-align:center;animation:fu .3s ease}

/* === Mobile Fixes === */
*{-webkit-tap-highlight-color:rgba(197,165,90,.15)}
.btn{min-height:48px}
.di input,.ni input{min-height:44px;font-size:16px}
select{font-size:16px}

</style>
</head>
<body>
<div id="accessGate" style="position:fixed;inset:0;z-index:9999;background:var(--cream);display:flex;align-items:center;justify-content:center;font-family:'DM Sans',sans-serif">
  <div style="text-align:center;max-width:380px;padding:24px">
    <div style="font-family:'Playfair Display',serif;font-size:28px;font-weight:700;margin-bottom:12px"><span style="color:var(--navy)">Tax</span><span style="color:var(--gold)">Decoded</span></div>
    <div style="width:40px;height:3px;background:var(--gold);margin:0 auto 24px;border-radius:2px"></div>
    <h2 style="font-family:'Playfair Display',serif;font-size:22px;font-weight:700;color:var(--navy);margin-bottom:8px">Enter Access Code</h2>
    <p style="color:var(--text-sec);font-size:14px;margin-bottom:24px;line-height:1.5">This calculator requires an access code to continue.</p>
    <input id="gateInput" type="text" placeholder="Access Code" autocomplete="off" style="width:100%;padding:14px 16px;font-size:16px;font-family:'DM Sans',sans-serif;border:1.5px solid var(--bdr);border-radius:10px;text-align:center;letter-spacing:.15em;text-transform:uppercase;outline:none;transition:border-color .2s" onfocus="this.style.borderColor='var(--gold)'" onblur="this.style.borderColor='var(--bdr)'">
    <div id="gateError" style="color:var(--red);font-size:13px;margin-top:8px;display:none">Invalid access code. Please try again.</div>
    <button id="gateBtn" style="width:100%;margin-top:16px;padding:14px;font-size:15px;font-weight:600;font-family:'DM Sans',sans-serif;background:var(--navy);color:var(--gold-light);border:none;border-radius:10px;cursor:pointer;transition:background .2s" onmouseover="this.style.background='#243352'" onmouseout="this.style.background='var(--navy)'">Unlock Calculator</button>
    <a href="/" style="display:inline-block;margin-top:16px;font-size:13px;color:var(--text-sec);text-decoration:none">&larr; Back to Tools</a>
  </div>
</div>
<script>
(function(){
  var CODE='OBBBA2025',KEY='td_access_obbba';
  if(sessionStorage.getItem(KEY)==='1'){document.getElementById('accessGate').style.display='none';return}
  var inp=document.getElementById('gateInput'),btn=document.getElementById('gateBtn'),err=document.getElementById('gateError');
  function check(){var v=inp.value.trim().toUpperCase();if(v===CODE){sessionStorage.setItem(KEY,'1');document.getElementById('accessGate').style.display='none'}else{err.style.display='block';inp.style.borderColor='var(--red)';inp.value=''}}
  btn.addEventListener('click',check);
  inp.addEventListener('keydown',function(e){if(e.key==='Enter')check()});
})();
</script>
<div class="ctr">
  <div class="ph"><div class="phb"><span>Tax</span><span>Decoded</span></div><div class="phr"></div><div class="pht">OBBBA New Deductions Assessment</div><div class="phs">Tax Year 2025 &mdash; Prepared for your records</div></div>
  <div class="hdr">
    <div class="brand"><span>Tax</span><span>Decoded</span></div>
    <div class="brand-line"></div>
    <div class="hdr-badge">OBBBA Deductions &nbsp;&#10022;&nbsp; Tax Year 2025</div>
    <h1>What New Deductions<br><em>Do I Qualify For?</em></h1>
    <p>The One Big Beautiful Bill Act created 6 new or enhanced deductions for 2025. Answer a few questions and we'll show you exactly which ones apply to you &mdash; and how much you could save.</p>
  </div>
  <div class="pw"><div class="pl">Step <span id="sn">1</span> of 3</div><div class="pb"><div class="ps a" id="p1"></div><div class="ps" id="p2"></div><div class="ps" id="p3"></div></div></div>

  <!-- Step 1: Filing & Income -->
  <div class="step active" id="s1"><div class="card"><div class="ch"><div class="ct">Step 1: Filing &amp; Income</div></div>
    <div class="ci">We need your basics to check eligibility and calculate phaseouts.</div>
    <div class="f"><label>Filing Status</label><select id="flSelect" style="width:100%;padding:13px 12px;border:2px solid var(--gold-pale);background:var(--gold-bg);border-radius:8px;font-family:'DM Sans',sans-serif;font-size:16px;color:var(--text);appearance:auto;-webkit-appearance:menulist;min-height:48px"><option value="">— Select filing status —</option><option value="single">Single</option><option value="mfj">Married Filing Jointly</option><option value="mfs">Married Filing Separately</option><option value="hoh">Head of Household</option></select></div>
    <div class="f"><label>Modified Adjusted Gross Income (MAGI) <span class="it" tabindex="0">?<span class="tt">Your total income minus certain above-the-line adjustments. For most people, close to gross wages on your W-2 plus any other income.</span></span></label><div class="di"><input type="text" id="magi" placeholder="0" inputmode="numeric"></div></div>
    <div class="f"><div class="tr"><span>Are you (or your spouse) age 65 or older?</span><input type="checkbox" id="is65" style="width:22px;height:22px;accent-color:var(--navy);cursor:pointer;flex-shrink:0"></div></div>
    <div id="sp65row" style="display:none"><div class="f"><div class="tr"><span>Is your spouse also 65 or older?</span><input type="checkbox" id="sp65" style="width:22px;height:22px;accent-color:var(--navy);cursor:pointer;flex-shrink:0"></div></div></div>
    <div class="f"><label>Number of children under 17 <span class="it" tabindex="0">?<span class="tt">Qualifying children for the Child Tax Credit. Must be under 17 at end of 2025, US citizen/resident, with SSN.</span></span></label><div class="ni"><input type="text" id="kids" placeholder="0" inputmode="numeric"></div></div>
    <div class="br"><button class="btn bp" data-btn-id="btn1">Continue &rarr;</button></div></div></div>

  <!-- Step 2: Work & Income Details -->
  <div class="step" id="s2"><div class="card"><div class="ch"><div class="ct">Step 2: Your Work &amp; Situation</div><div class="cs">Check all that apply to you for 2025</div></div>
    <div class="f"><div class="tr"><span>Do you earn tips in a job where tipping is customary? <span class="it" tabindex="0">?<span class="tt">Restaurants, bars, hotels, salons, rideshare, delivery, etc. The IRS will publish a list of qualifying occupations.</span></span></span><input type="checkbox" id="hasTips" style="width:22px;height:22px;accent-color:var(--navy);cursor:pointer;flex-shrink:0"></div>
      <div class="cond" id="tipsDetail">
        <div class="f"><label>Total qualified tips earned in 2025</label><div class="di"><input type="text" id="tipAmt" placeholder="0" inputmode="numeric"></div><div class="ht">Cash tips, charged tips, and tip-sharing amounts reported on your W-2 or 1099.</div></div>
      </div>
    </div>
    <div class="f"><div class="tr"><span>Do you earn FLSA-covered overtime pay? <span class="it" tabindex="0">?<span class="tt">Overtime required under the Fair Labor Standards Act. This covers the premium portion (the "half" of time-and-a-half). Does not include state-law overtime, bonus pay, or exempt/salaried employee extra hours.</span></span></span><input type="checkbox" id="hasOT" style="width:22px;height:22px;accent-color:var(--navy);cursor:pointer;flex-shrink:0"></div>
      <div class="cond" id="otDetail">
        <div class="f"><label>Total overtime premium earned in 2025</label><div class="di"><input type="text" id="otAmt" placeholder="0" inputmode="numeric"></div><div class="ht">Only the premium portion &mdash; the extra pay above your regular hourly rate. E.g., if your rate is $20/hr and OT is $30/hr, only the $10/hr premium counts.</div></div>
        <div id="spOTrow" style="display:none"><div class="f"><div class="tr"><span>Does your spouse also earn FLSA overtime?</span><input type="checkbox" id="spOT" style="width:22px;height:22px;accent-color:var(--navy);cursor:pointer;flex-shrink:0"></div></div>
          <div class="cond" id="spOTDetail"><div class="f"><label>Spouse's overtime premium</label><div class="di"><input type="text" id="spOTAmt" placeholder="0" inputmode="numeric"></div></div></div>
        </div>
      </div>
    </div>
    <div class="f"><div class="tr"><span>Did you take out a loan in 2025 for a new vehicle? <span class="it" tabindex="0">?<span class="tt">Must be a NEW vehicle (not used), purchased with a loan (not lease) originated after 12/31/2024, with final assembly in the United States.</span></span></span><input type="checkbox" id="hasCar" style="width:22px;height:22px;accent-color:var(--navy);cursor:pointer;flex-shrink:0"></div>
      <div class="cond" id="carDetail">
        <div class="f"><label>Interest paid on that auto loan in 2025</label><div class="di"><input type="text" id="carAmt" placeholder="0" inputmode="numeric"></div></div>
        <div class="f"><div class="tr"><span>Was the vehicle assembled in the United States?</span><input type="checkbox" id="carUS" style="width:22px;height:22px;accent-color:var(--navy);cursor:pointer;flex-shrink:0"></div><div class="ht">Check the VIN &mdash; the 11th character indicates the assembly country. US = 1-5. Or check NHTSA.gov.</div></div>
      </div>
    </div>
    <div class="br"><button class="btn bk" data-btn-id="btn2">&larr; Back</button><button class="btn bp" data-btn-id="btn3">Continue &rarr;</button></div></div></div>

  <!-- Step 3: SALT -->
  <div class="step" id="s3"><div class="card"><div class="ch"><div class="ct">Step 3: State &amp; Local Taxes</div><div class="cs">The SALT cap quadrupled from $10,000 to $40,000</div></div>
    <div class="ci">If you itemize, the new SALT cap may significantly increase your deduction.</div>
    <div class="f"><label>Total state &amp; local taxes paid in 2025</label><div class="ht">Combined state/local income (or sales) tax + property tax + personal property tax.</div><div class="di"><input type="text" id="saltTotal" placeholder="0" inputmode="numeric"></div></div>
    <div class="br"><button class="btn bk" data-btn-id="btn4">&larr; Back</button><button class="btn bp" data-btn-id="btn5">See My Results &rarr;</button></div></div></div>

  <!-- Results -->
  <div class="step" id="sr"><div id="rc"></div>
    <div class="pf"><div class="pfb"><span>Tax</span><span>Decoded</span></div><div class="pfr"></div><div class="pfl">This assessment is for educational and informational purposes only.<br>It does not constitute tax advice. Consult a qualified tax professional for guidance specific to your situation.</div></div>
    <div class="pb2">Built by <span>TaxDecoded</span></div>
    <div class="dc">This tool is for educational and informational purposes only and does not constitute tax advice. Tax laws are complex and individual circumstances vary. Consult a qualified tax professional for advice specific to your situation.</div>
  </div>
</div>
<script>
function $(i){return document.getElementById(i)}
function fm(n){return n.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2})}
function fw(n){return n.toLocaleString('en-US',{minimumFractionDigits:0,maximumFractionDigits:0})}
function pv(i){return parseFloat($(i).value.replace(/[^0-9.]/g,''))||0}
function pi(i){return parseInt($(i).value.replace(/[^0-9]/g,''))||0}

// Format dollar inputs
document.querySelectorAll('.di input').forEach(i=>{i.addEventListener('blur',function(){let n=parseFloat(this.value.replace(/[^0-9.]/g,''));if(!isNaN(n)&&n>0)this.value=fw(n)});i.addEventListener('focus',function(){this.value=this.value.replace(/,/g,'')})});

// Show/hide conditional fields
$('hasTips').addEventListener('change',function(){$('tipsDetail').classList.toggle('show',this.checked)});
$('hasOT').addEventListener('change',function(){$('otDetail').classList.toggle('show',this.checked)});
$('hasCar').addEventListener('change',function(){$('carDetail').classList.toggle('show',this.checked)});
$('spOT').addEventListener('change',function(){$('spOTDetail').classList.toggle('show',this.checked)});

// Spouse rows
document.getElementById('flSelect').addEventListener('change',function(){
  const married=this.value==='mfj'||this.value==='mfs';
  $('sp65row').style.display=married&&$('is65').checked?'block':'none';
  $('spOTrow').style.display=married&&$('hasOT').checked?'block':'none';
});
$('is65').addEventListener('change',function(){
  const fv=document.getElementById('flSelect').value;
  const married=fv==='mfj'||fv==='mfs';
  $('sp65row').style.display=married&&this.checked?'block':'none';
});
$('hasOT').addEventListener('change',function(){
  const fv=document.getElementById('flSelect').value;
  const married=fv==='mfj'||fv==='mfs';
  $('spOTrow').style.display=married&&this.checked?'block':'none';
});

let cs=1;
function go(n){
  if(n>1&&cs===1){
    var em=document.getElementById('err1');if(!em){em=document.createElement('div');em.id='err1';em.className='err-msg';document.querySelector('#s1 .br').before(em)}
    if(!document.getElementById('flSelect').value){em.textContent='\u26a0 Please select a filing status above.';em.style.display='block';return}
    if(pv('magi')<=0){em.textContent='\u26a0 Please enter your MAGI above.';em.style.display='block';return}
    em.style.display='none'
  }
  $('s'+cs).classList.remove('active');$('s'+n).classList.add('active');
  for(let i=1;i<=3;i++){let e=$('p'+i);e.className='ps';if(i<n)e.classList.add('d');else if(i===n)e.classList.add('a')}
  $('sn').textContent=n;cs=n;window.scrollTo({top:0,behavior:'smooth'});
}

// Phaseout helper: linear reduction, $X per $1K over threshold
function phaseout(amount, magi, threshold, ratePerDollar){
  if(magi<=threshold) return amount;
  const reduction=(magi-threshold)*ratePerDollar;
  return Math.max(amount-reduction,0);
}

function runCalc(){
  const f=document.getElementById('flSelect').value;
  const m=pv('magi');
  const isJoint=f==='mfj';
  const isMFS=f==='mfs';
  const is65=$('is65').checked;
  const sp65Chk=$('sp65').checked&&(isJoint||isMFS);
  const kids=pi('kids');
  let totalSavings=0;
  const results=[];

  // Marginal rate estimate for savings calc
  const bk={single:[[11925,.10],[48475,.12],[103350,.22],[197300,.24],[250525,.32],[626350,.35],[Infinity,.37]],mfj:[[23850,.10],[96950,.12],[206700,.22],[394600,.24],[501050,.32],[751600,.35],[Infinity,.37]],mfs:[[11925,.10],[48475,.12],[103350,.22],[197300,.24],[250525,.32],[375800,.35],[Infinity,.37]],hoh:[[17000,.10],[64850,.12],[103350,.22],[197300,.24],[250500,.32],[626350,.35],[Infinity,.37]]};
  function mr(ti){for(const[l,r]of bk[f])if(ti<=l)return r;return .37}
  const stdDed={single:15750,mfj:31500,mfs:15750,hoh:23625}[f];
  const margRate=mr(Math.max(m-stdDed,0));

  // === 1. NO TAX ON TIPS ===
  if($('hasTips').checked){
    const tipMax=25000;
    const tipThresh=isJoint?300000:150000;
    const tipRaw=Math.min(pv('tipAmt'),tipMax);
    // Phaseout: $200 per $1K over threshold => $0.20 per $1 over
    const tipDed=phaseout(tipRaw,m,tipThresh,0.20);
    const tipSaving=tipDed*margRate;
    totalSavings+=tipSaving;
    if(isMFS){
      results.push({name:'No Tax on Tips',status:'no',icon:'no',amount:0,detail:'MFS filers are not eligible for the tips deduction. You must file jointly to claim this benefit.',next:''});
    } else if(tipDed>0){
      results.push({name:'No Tax on Tips',status:'yes',icon:'yes',amount:tipDed,detail:`Your estimated deduction is $${fw(tipDed)} of $${fw(pv('tipAmt'))} in qualified tips${m>tipThresh?' (reduced by income phaseout)':''}. Maximum $25,000. Deduction available 2025\u20132028.`,next:`Action: Keep paystubs showing tip amounts. You\u2019ll report this on Schedule 1-A when filing your 2025 return.`,saving:tipSaving});
    } else {
      results.push({name:'No Tax on Tips',status:'no',icon:'no',amount:0,detail:`Your income of $${fw(m)} exceeds the phaseout threshold ($${fw(tipThresh)}). The tips deduction has fully phased out at your income level.`,next:''});
    }
  } else {
    results.push({name:'No Tax on Tips',status:'no',icon:'no',amount:0,detail:'You indicated you don\u2019t earn tips in a qualifying occupation. This deduction applies to workers in jobs where tipping is customary (restaurants, bars, salons, hotels, rideshare, etc.).',next:''});
  }

  // === 2. NO TAX ON OVERTIME ===
  if($('hasOT').checked){
    const otMax=isJoint?25000:12500;
    const otThresh=isJoint?300000:150000;
    let otRaw=Math.min(pv('otAmt'),12500);
    if(isJoint&&$('spOT').checked) otRaw=Math.min(otRaw+Math.min(pv('spOTAmt'),12500),25000);
    const otDed=phaseout(otRaw,m,otThresh,0.20);
    const otSaving=otDed*margRate;
    totalSavings+=otSaving;
    if(isMFS){
      results.push({name:'No Tax on Overtime',status:'no',icon:'no',amount:0,detail:'MFS filers are not eligible for the overtime deduction. You must file jointly to claim this benefit.',next:''});
    } else if(otDed>0){
      results.push({name:'No Tax on Overtime',status:'yes',icon:'yes',amount:otDed,detail:`Your estimated deduction is $${fw(otDed)} of FLSA-covered overtime premium${m>otThresh?' (reduced by income phaseout)':''}. Maximum $${fw(otMax)}. Available 2025\u20132028.`,next:`Action: Keep all paystubs. Calculate the premium portion (the extra above your base rate). You\u2019ll report this on Schedule 1-A. Your 2025 W-2 won\u2019t break this out separately.`,saving:otSaving});
    } else {
      results.push({name:'No Tax on Overtime',status:'no',icon:'no',amount:0,detail:`Your income exceeds the phaseout threshold. The overtime deduction has fully phased out.`,next:''});
    }
  } else {
    results.push({name:'No Tax on Overtime',status:'no',icon:'no',amount:0,detail:'You indicated you don\u2019t earn FLSA-covered overtime. This applies to non-exempt hourly workers who receive time-and-a-half (or greater) under federal law. Salaried/exempt employees typically don\u2019t qualify.',next:''});
  }

  // === 3. AUTO LOAN INTEREST ===
  if($('hasCar').checked){
    const carMax=10000;
    const carThresh=isJoint?200000:100000;
    const carUS=$('carUS').checked;
    const carRaw=Math.min(pv('carAmt'),carMax);
    const carDed=carUS?phaseout(carRaw,m,carThresh,0.20):0;
    const carSaving=carDed*margRate;
    totalSavings+=carSaving;
    if(!carUS){
      results.push({name:'Auto Loan Interest',status:'partial',icon:'partial',amount:0,detail:'The vehicle must have final assembly in the United States to qualify. Check the 11th character of your VIN (1\u20135 = US assembled) or use NHTSA.gov.',next:'Action: Verify your VIN. If the vehicle was US-assembled, you may still be eligible.'});
    } else if(carDed>0){
      results.push({name:'Auto Loan Interest',status:'yes',icon:'yes',amount:carDed,detail:`Your estimated deduction is $${fw(carDed)} of auto loan interest${m>carThresh?' (reduced by income phaseout)':''}. Maximum $10,000/year. Available 2025\u20132028. Lease payments do not qualify.`,next:`Action: Your lender should issue Form 1098-VLI. Keep your loan statement and VIN. Report on Schedule 1-A.`,saving:carSaving});
    } else {
      results.push({name:'Auto Loan Interest',status:'no',icon:'no',amount:0,detail:`Your income exceeds the phaseout threshold ($${fw(carThresh)}). The auto loan interest deduction has fully phased out.`,next:''});
    }
  } else {
    results.push({name:'Auto Loan Interest',status:'no',icon:'no',amount:0,detail:'You indicated you didn\u2019t purchase a new vehicle with a loan in 2025. This deduction covers interest on loans for new, US-assembled vehicles purchased after 12/31/2024. Used cars and leases don\u2019t qualify.',next:''});
  }

  // === 4. ENHANCED SENIOR DEDUCTION ===
  if(is65||sp65Chk){
    let seniorMax=0;
    if(is65) seniorMax+=6000;
    if(sp65Chk) seniorMax+=6000;
    const seniorThresh=isJoint?150000:75000;
    const seniorDed=phaseout(seniorMax,m,seniorThresh,0.06);
    const seniorSaving=seniorDed*margRate;
    totalSavings+=seniorSaving;
    if(isMFS){
      results.push({name:'Enhanced Senior Deduction',status:'no',icon:'no',amount:0,detail:'MFS filers are not eligible for the enhanced senior deduction under the OBBBA.',next:''});
    } else if(seniorDed>0){
      const full=seniorDed===seniorMax;
      results.push({name:'Enhanced Senior Deduction',status:full?'yes':'partial',icon:full?'yes':'partial',amount:seniorDed,detail:`Your deduction is $${fw(seniorDed)}${!full?' (reduced by income phaseout from the full $'+fw(seniorMax)+')':''}. $6,000 per qualifying person. Available 2025\u20132028. This stacks on top of both the standard deduction AND the existing 65+ additional deduction.`,next:`Action: No special documentation needed beyond confirming your age. This will be claimed on Schedule 1-A.`,saving:seniorSaving});
    } else {
      results.push({name:'Enhanced Senior Deduction',status:'no',icon:'no',amount:0,detail:`Your income of $${fw(m)} has fully phased out the senior deduction (threshold: $${fw(seniorThresh)}).`,next:''});
    }
  } else {
    results.push({name:'Enhanced Senior Deduction',status:'no',icon:'no',amount:0,detail:'You must be age 65 or older by December 31, 2025 to qualify. Available 2025\u20132028. $6,000 per qualifying individual ($12,000 for a qualifying couple on MFJ).',next:''});
  }

  // === 5. SALT CAP INCREASE ===
  const saltGross=pv('saltTotal');
  const oldCap=isMFS?5000:10000;
  const newCapBase=isMFS?20000:40000;
  const saltThresh=isMFS?250000:500000;
  const saltFloor=isMFS?5000:10000;
  let newCap=newCapBase;
  if(m>saltThresh) newCap=Math.max(newCapBase-(m-saltThresh)*0.30,saltFloor);
  const oldAllowed=Math.min(saltGross,oldCap);
  const newAllowed=Math.min(saltGross,newCap);
  const saltBenefit=newAllowed-oldAllowed;
  const saltSaving=saltBenefit*margRate;
  if(saltBenefit>0){
    totalSavings+=saltSaving;
    results.push({name:'SALT Cap Increase ($10K \u2192 $'+fw(newCap)+')',status:'yes',icon:'yes',amount:saltBenefit,detail:`Under the old $${fw(oldCap)} cap, you could deduct $${fw(oldAllowed)}. Under the new $${fw(newCap)} cap${m>saltThresh?' (reduced by MAGI phaseout)':''}, you can deduct $${fw(newAllowed)} \u2014 an additional $${fw(saltBenefit)}. You must itemize to claim SALT.`,next:saltBenefit>0?'Action: This may change whether you should itemize. Use our Standard vs. Itemized calculator to check.':'',saving:saltSaving});
  } else if(saltGross>0&&saltGross<=oldCap){
    results.push({name:'SALT Cap Increase ($10K \u2192 $40K)',status:'no',icon:'no',amount:0,detail:`Your total SALT of $${fw(saltGross)} is under the old $${fw(oldCap)} cap, so the increase doesn\u2019t change your deduction. However, it\u2019s still deductible if you itemize.`,next:''});
  } else if(m>600000&&!isMFS){
    results.push({name:'SALT Cap Increase ($10K \u2192 $40K)',status:'no',icon:'no',amount:0,detail:`At your income level, the SALT cap has phased back down to $${fw(newCap)}, which equals the old cap. The increase doesn\u2019t benefit you.`,next:''});
  } else {
    results.push({name:'SALT Cap Increase ($10K \u2192 $40K)',status:'no',icon:'no',amount:0,detail:'You indicated $0 in state and local taxes. This deduction requires itemizing and is most valuable in high-tax states (CA, NY, NJ, CT, IL, etc.).',next:''});
  }

  // === 6. CHILD TAX CREDIT INCREASE ===
  const ctcIncrease=kids*200; // $2,000 -> $2,200 = $200 per child
  if(kids>0){
    totalSavings+=ctcIncrease; // This is a direct credit, not a deduction
    results.push({name:'Child Tax Credit Increase ($2K \u2192 $2,200)',status:'yes',icon:'yes',amount:ctcIncrease,detail:`With ${kids} qualifying child${kids>1?'ren':''}, you receive an additional $200 per child = $${fw(ctcIncrease)} more in credits vs. 2024. Total CTC: $${fw(kids*2200)}.`,next:'Note: This is a tax credit (dollar-for-dollar reduction in tax), not a deduction. More valuable than a deduction of the same amount.',saving:ctcIncrease,isCredit:true});
  } else {
    results.push({name:'Child Tax Credit Increase ($2K \u2192 $2,200)',status:'no',icon:'no',amount:0,detail:'You indicated no qualifying children under 17. The CTC increased from $2,000 to $2,200 per child for 2025. The additional child tax credit (refundable portion) also increased to $1,700.',next:''});
  }

  // === 7. INCREASED STANDARD DEDUCTION ===
  const oldStd={single:15000,mfj:30000,mfs:15000,hoh:22500}[f];
  const newStd=stdDed;
  const stdIncrease=newStd-oldStd;
  const stdSaving=stdIncrease*margRate;
  totalSavings+=stdSaving;
  results.push({name:'Increased Standard Deduction',status:'yes',icon:'yes',amount:stdIncrease,detail:`Your standard deduction increased from $${fw(oldStd)} to $${fw(newStd)} \u2014 a $${fw(stdIncrease)} increase. This is permanent under the OBBBA. (Only benefits you if you take the standard deduction.)`,next:'',saving:stdSaving});

  // === BUILD HTML ===
  const qualCount=results.filter(r=>r.status==='yes'||r.status==='partial').length;
  let h=`<div class="res-summary"><h2>Your OBBBA Deduction Assessment</h2><div class="big-num">$${fw(Math.round(totalSavings))}</div><div class="sub">estimated combined tax savings across ${qualCount} qualifying provision${qualCount!==1?'s':''}</div><div class="sv-ln"></div></div>`;

  h+=`<div class="section-label">Qualifying Deductions</div>`;
  const yes=results.filter(r=>r.status==='yes'||r.status==='partial');
  const no=results.filter(r=>r.status==='no');

  yes.forEach(r=>{
    h+=`<div class="ded-card"><div class="ded-icon ${r.icon}">${r.icon==='yes'?'\u2713':'\u25CB'}</div><div class="ded-body"><h3>${r.name}</h3><div class="ded-status ${r.status}">${r.status==='yes'?'You qualify':'Partial / conditional'}</div>${r.amount>0?`<div class="ded-amount">${r.isCredit?'':''}$${fw(r.amount)}${r.isCredit?' additional credit':' deduction'}</div>`:''}<div class="ded-detail">${r.detail}</div>${r.next?`<div class="ded-next">${r.next}</div>`:''}</div></div>`;
  });

  if(no.length){
    h+=`<div class="section-label">Does Not Apply</div>`;
    no.forEach(r=>{
      h+=`<div class="ded-card"><div class="ded-icon no">\u2717</div><div class="ded-body"><h3>${r.name}</h3><div class="ded-status no">Does not apply</div><div class="ded-detail">${r.detail}</div>${r.next?`<div class="ded-next">${r.next}</div>`:''}</div></div>`;
    });
  }

  // Summary table
  h+=`<div class="sum-table"><div class="sthead">Estimated Tax Savings Summary</div>`;
  results.forEach(r=>{
    if(r.saving>0||r.isCredit){
      h+=`<div class="strow"><div class="stl">${r.name}</div><div class="stv">$${fw(Math.round(r.saving||r.amount))}</div></div>`;
    }
  });
  h+=`<div class="strow tot"><div class="stl">Total Estimated Savings</div><div class="stv">$${fw(Math.round(totalSavings))}</div></div></div>`;

  h+=`<div class="nb grn"><strong>All four new deductions (tips, overtime, auto loan, senior) are reported on the new Schedule 1-A</strong> and work whether you itemize or take the standard deduction. They reduce taxable income but not AGI.</div>`;

  h+=`<div class="nb am"><strong>Important:</strong> These deductions are temporary (2025\u20132028) except for the standard deduction increase and child tax credit, which are permanent. The SALT cap increase runs through 2029 before reverting to $10,000 in 2030. Plan accordingly.</div>`;

  h+=`<div class="ra"><button class="btn bk" data-action="print">Print Results</button><button class="btn bp" data-action="startOver">Start Over</button></div>`;
  $('rc').innerHTML=h;
  $('s'+cs).classList.remove('active');$('sr').classList.add('active');
  for(let i=1;i<=3;i++)$('p'+i).className='ps d';
  $('sn').textContent='\u2713';cs=4;window.scrollTo({top:0,behavior:'smooth'});
}

function startOver(){
  $('sr').classList.remove('active');$('s1').classList.add('active');cs=1;
  for(let i=1;i<=3;i++){let e=$('p'+i);e.className='ps';if(i===1)e.classList.add('a')}
  $('sn').textContent='1';
  document.querySelectorAll('.di input, .ni input').forEach(i=>i.value='');
  document.querySelectorAll('input[type="checkbox"]').forEach(i=>i.checked=false);
  var flSel=document.getElementById('flSelect');if(flSel)flSel.selectedIndex=0;
  document.querySelectorAll('.cond').forEach(c=>c.classList.remove('show'));
  $('sp65row').style.display='none';$('spOTrow').style.display='none';
  window.scrollTo({top:0,behavior:'smooth'});
}
</script>



<script>
// Wire up all buttons via addEventListener (iOS Files WebView compatible)
document.addEventListener("DOMContentLoaded", function(){
  var b_btn1=document.querySelector('[data-btn-id="btn1"]');
  if(b_btn1)b_btn1.addEventListener("click",function(e){e.preventDefault();go(2)});
  var b_btn2=document.querySelector('[data-btn-id="btn2"]');
  if(b_btn2)b_btn2.addEventListener("click",function(e){e.preventDefault();go(1)});
  var b_btn3=document.querySelector('[data-btn-id="btn3"]');
  if(b_btn3)b_btn3.addEventListener("click",function(e){e.preventDefault();go(3)});
  var b_btn4=document.querySelector('[data-btn-id="btn4"]');
  if(b_btn4)b_btn4.addEventListener("click",function(e){e.preventDefault();go(2)});
  var b_btn5=document.querySelector('[data-btn-id="btn5"]');
  if(b_btn5)b_btn5.addEventListener("click",function(e){e.preventDefault();runCalc()});
  var b_btn6=document.querySelector('[data-btn-id="btn6"]');
  if(b_btn6)b_btn6.addEventListener("click",function(e){e.preventDefault();window.print()});
  var b_btn7=document.querySelector('[data-btn-id="btn7"]');
  if(b_btn7)b_btn7.addEventListener("click",function(e){e.preventDefault();startOver()});
});
</script>
<script>
// Event delegation for dynamically created buttons
document.addEventListener("click", function(e){
  var t = e.target;
  if(t.tagName==="BUTTON" || t.closest("button")){
    t = t.closest("button") || t;
    var action = t.getAttribute("data-action");
    if(action==="print") window.print();
    if(action==="startOver") startOver();
  }
});
</script>
</body>
</html>
